<!DOCTYPE html>
<html>

<head>
    <title>oddball</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="#">
    <link href="styles.css" rel="stylesheet">
    <script type="module" src="./code/die.js"></script>
</head>

<body>
    <label>1
        <input id="dice" type="checkbox" checked>
        <script type="module">
            import { Die } from './code/die.js'
            const dice = document.getElementById('dice')
            const die = new Die([[1, 1], [2, 1], [3, 1], [4, 1], [5, 1], [6, 1]])
            const label = document.currentScript.parentElement
            while (true) {
                if (dice.checked) {
                    await new Promise(r => setTimeout(r, 240))
                    label.innerText = die.reroll()
                } else {
                    await new Promise(r => requestAnimationFrame(r))
                }
            }
        </script>
    </label>
    </input>
</body>

</html>